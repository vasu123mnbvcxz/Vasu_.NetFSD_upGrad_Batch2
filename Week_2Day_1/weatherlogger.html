<!DOCTYPE html>
<html>
<head>
    <title>Location Logger</title>
</head>
<body onload="displayHistory()">

<h2>Location Logger</h2>

<button onclick="getLocation()">Get My Location</button>

<p id="locationResult"></p>

<h3>Last 5 Locations:</h3>
<ul id="history"></ul>

<script>

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(success, error);
    } else {
        alert("Geolocation not supported.");
    }
}

function success(position) {
    var lat = position.coords.latitude;
    var lon = position.coords.longitude;

    document.getElementById("locationResult").innerHTML =
        "Latitude: " + lat + "<br>Longitude: " + lon;

    var locations = JSON.parse(localStorage.getItem("locations")) || [];

    locations.unshift({latitude: lat, longitude: lon});

    if (locations.length > 5) {
        locations.pop();
    }

    localStorage.setItem("locations", JSON.stringify(locations));
    displayHistory();
}

function error(err) {
    if (err.code === 1) {
        alert("Permission Denied");
    } else if (err.code === 2) {
        alert("Location Unavailable");
    } else if (err.code === 3) {
        alert("Timeout Error");
    }
}

function displayHistory() {
    var locations = JSON.parse(localStorage.getItem("locations")) || [];
    var list = document.getElementById("history");
    list.innerHTML = "";

    locations.forEach(function(loc) {
        var li = document.createElement("li");
        li.innerHTML = "Lat: " + loc.latitude + " | Lon: " + loc.longitude;
        list.appendChild(li);
    });
}

</script>

</body>
</html>